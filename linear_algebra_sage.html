<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">

<HTML>


<HEAD>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="mainpages.css">
<!--<link rel="stylesheet" type="text/css" href="../coursepages.css">-->

<meta name=viewport content="width=device-width, initial-scale=1">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<TITLE>Computations using SageMath</TITLE>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async>
</script><!-- added to use Latex in HTML w AJAX...use \(x^2+1=0\)-->  
    
<!-- for sagemath cells -->    
<script src="https://sagecell.sagemath.org/static/jquery.min.js"></script>
<script src="https://sagecell.sagemath.org/embedded_sagecell.js"></script>
<script>$(function () {
    // Make the div with id 'mycell' a Sage cell
    sagecell.makeSagecell({inputLocation:  '#mycell',
        template:       sagecell.templates.minimal,
            evalButtonText: 'Activate'});
    // Make *any* div with class 'compute' a Sage cell
    sagecell.makeSagecell({inputLocation: 'div.compute',
            evalButtonText: 'Evaluate'});
});
</script>    
<link rel="stylesheet" type="text/css" href="https://sagecell.sagemath.org/static/sagecell_embed.css"><!-- to make sure the styling of the sage cells doesn't get screwed up by my own styles -->    
    
</HEAD>


<BODY link=darkblue vlink=darkblue>


    
<div class="header">
<span class="coursetitle">Computations using SageMath</span>
<span class="schoolsname">
    Linear Algebra
</span>
</div>  


<div class="wholedoc">
    

<!-- ANNOUNCEMENT COLLAPSIBLE --> 
<!-- 
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Sample Announcement title  
    </h4>  
</div>
</button>
    
<div class="content">
    <div class="announcementcontent">
    Sample post   
    </div>
</div>
-->
<!-- END Announcement post COLLAPSIBLE--> 
      
    
     <!-- 
<div class="twocol">
<div class="column">
    <h2>Homework List</h2> 
    
    yo
</div>   
<div class="column">
    <h2>Answer Key</h2> 

    yo
</div>   
</div>
    -->
<center><img src="math10-f19/determinant.gif" style="width:60%; text-align: center;"><br><br></center> 

    

    
<h1>Your SageMath Computations </h1>
    
Type your own Sage computation below and click “Evaluate”.   
    
<div class="compute" style="margin-bottom:1cm;">
<script type="text/x-sage">
# you can edit this!
2+2
</script>
</div>
    
         
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<!--
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Title
    </h4>  
</div>
</button>

<div class="content">
<div class="announcementcontent">

add

</div>
</div><br>
-->
<!-- END Announcement post COLLAPSIBLE-->   
    
    
    
    
    
<h1>Linear Algebra Computations Templates</h1> 
    
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Vector Arithmetic
    </h4>  
</div>
</button>

<div class="content-show">
<div class="announcementcontent">
    
A few useful things you can do with vectors:    

<div class="compute">
<script type="text/x-sage">
# you can edit this!
u = vector([1,3,-6])
show(u)
</script>
</div>
    
<div class="compute">
<script type="text/x-sage">
# you can edit this!
u = vector([1,3,-6])
v = vector([-2,0,3])
show(2*u-7*v)

# Length of a vector
n = norm(u)
show(n)

# Dot Products
a = u.dot_product(v)
show(a)
</script>
</div> 

</div>
</div><br>
<!-- END Announcement post COLLAPSIBLE-->        
    

    
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Matrix Arithmetic
    </h4>  
</div>
</button>

<div class="content-show">
<div class="announcementcontent">
    
Basic matrix arithmetic:

<div class="compute">
<script type="text/x-sage">
# you can edit this!
# create a matrix: Matrix( [ [row1], [row2], etc  ] ) # Notice extra [ ] sandwhiching the rows

M = Matrix([ [1,2,3], [4,5,6], [7,8,9] ] ) # row1 = [1,2,3], row2 = [4,5,6] etc 
show(M)

Q = Matrix([ [1,2,3], [1,2,3], [1,2,3] ] )
show(Q)

# matrix arithmetic is easy!
show(2*M + 3*Q)
show(2.0*M + 3*Q)
</script>
</div>  

</div>
</div><br>
<!-- END Announcement post COLLAPSIBLE--> 
 
    
    
    
    

    
    
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Gauss-Jordan Elimination &amp; RREF &amp; EROs
    </h4>  
</div>
</button>
    

<div class="content">
<div class="announcementcontent">

Gauss-Jordan Algorithm can be done in an instant using RREF(A) when you are in a hurry:    
    
<div class="compute">
<script type="text/x-sage">
# you can edit this!
# RREF
 
# define matrix A 
A = Matrix([ [1,-2,1], 
             [3,-1,-1], 
             [1,1,-4] ])
             
cA = copy(A) # make a copy of A to make changes to, leaving A unchanged

show("A is", A) # shows original A
show("RREF(A) is", cA.rref()) # shows RREF(A)
</script>
</div> 
    
    
    
<h4>Elementary Row Operations</h4>      
    
When you want to check your individual elementary row operations (EROs):    

<div class="compute">
<script type="text/x-sage">
# you can edit this!
# EROs 
#ER1 = swap rows
#ER2 = multiply row by non-zero constant: A.rescale_row(i,a) means "a*r_i --> r_i"
#ER3 = add multiple of one row to another: A.add_multiple_of_row(i,j,a) means "a*r_j + r_i --> r_i"

# warning: SAGE (like programming languages like Python) start counting at 0. So programmers i=0 is mathematicians i=1
 
A = Matrix(QQ, [ [1,-2,1], [3,-1,-1], [1,1,-4]])

print("The original matrix A is")
show(A)

cA = copy(A) # make a copy of A to make changes to, leaving A unchanged

print("(-3)*r1 + r2 --> r2 gives")
cA.add_multiple_of_row(1,0,-3) 
show(cA)

print("(-1)*r1 + r3 --> r3 gives")
cA.add_multiple_of_row(2,0,-1) 
show(cA)

print("(1/5)*r2 --> r2 gives")
cA.rescale_row(1,1/5) 
show(cA)

print("(-3)*r2 + r3 --> r3 gives")
cA.add_multiple_of_row(2,1,-3) 
show(cA)

print("(-5/13)*r3 --> r3 gives")
cA.rescale_row(2,-5/13) 
show(cA)
</script>
</div>       

</div>
</div><br>
<!-- END Announcement post COLLAPSIBLE--> 
    
    
    
    
    
    
    
    
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Inverse of a Matrix
    </h4>  
</div>
</button>

<div class="content">
<div class="announcementcontent">

Find the inverse of a matrix:

<div class="compute">
<script type="text/x-sage">
# you can edit this!
# Check if invertible:

A = matrix([ [-12,15],
             [-10,13] ])
                          
show("A=",A)
show("A^(-1)=", A.inverse()) 

# check
show( A * A.inverse() )

C = matrix([ [1,3],
             [1,2] ])
             
show("C=",C)
show("C^(-1)=", C.inverse())

# check
show( C * C.inverse() )
</script>
</div> 

</div>
</div><br>
<!-- END Announcement post COLLAPSIBLE-->  
    
    
    
    
    
    
    
    
    
    
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Determinants
    </h4>  
</div>
</button>

<div class="content">
<div class="announcementcontent">
    
Compute a determinant of a square matrix:

<div class="compute">
<script type="text/x-sage">
# you can edit this!
# Determinants
 
A = matrix(QQ, [ [8,-2,3],
                 [-3,0,4],
                 [6,2,-1] ])
show("A=",A)
show("det(A)=",A.determinant())
</script>
</div>  

</div>
</div><br>
<!-- END Announcement post COLLAPSIBLE-->  
    
    
    
    
    
    
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Eigentheory
    </h4>  
</div>
</button>

<div class="content">
<div class="announcementcontent">
    
Basic Eigentheory:

<div class="compute">
<script type="text/x-sage">
# you can edit this!
# Eigentheory

A = matrix([ [2,2],
             [-4,8] ])
             
# Eigenvalues
show("A=",A)
show("Eigenvalues are",A.eigenvalues())

#Finding characteristic polynomial 
p(x) = A.characteristic_polynomial()
show("characteristic polynomial =", p(x))

# Solving a characetristic polynomial
show(solve(p(x) == 0,x))

# Finding eigenvectors
show("The eigenvectors are", A.eigenvectors_right())
</script>
</div>   

</div>
</div><br>
<!-- END Announcement post COLLAPSIBLE-->   
    
    
    
    
    
    
    
    
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Diagonalization
    </h4>  
</div>
</button>

<div class="content">
<div class="announcementcontent">
    
A few results about diagonalizable matrices:

<div class="compute">
<script type="text/x-sage">
# you can edit this!
# Check if diagonalizable:

A = matrix([ [-12,15],
             [-10,13] ])
show("A=",A)

# Finding eigenvectors
show("The eigenvectors are", A.eigenvectors_right())

# put eigenvectors into columns of C (or rescaled ones to get integer coefficients):
C = matrix([ [1,3],
             [1,2] ])
show("C=",C)

# confirm C is invertible
Cinv = C.inverse()
show("C^(-1)=",Cinv)  

# check that C^(-1)*A*C is a diagonal matrix D
show("C^(-1)*A*C =",Cinv*A*C) 

# Note: $C^{-1}*A*C$ is diagonal and the diagonal entries are the eigenvalues of $A$ (corresponding to the eigenvectors).

# Note: In our class, we use the convention that we order the eigenvalues in **INCREASING order**.
</script>
</div>   

</div>
</div><br>
<!-- END Announcement post COLLAPSIBLE-->   
    
    
    
    
    
    
    
    
    
    
    
    
    
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Orthogonal Sets
    </h4>  
</div>
</button>

<div class="content">
<div class="announcementcontent">
    
Here's how you can check your work after doing the Gram-Schmidt Algorithm by hand.
    
<ul>
    <li> \( A=[\vec{v}_1 | \cdots | \vec{v}_k] \) for matrix with vectors \( S=\{ \vec{v}_1,\ldots,\vec{v}_k \} \) put into the columns</li>
    <li> Compute: \( \boxed{\, A^{\top} * A\, } \), call this matrix \( B\).</li>
    <li>Interpret results:
        <ul>
            <li>\( B\) is a diagonal matrix if and only if \( S \) is an orthogonal set</li>
            <li>\( B\) is the identity matrix \( I_n \) if and only if \( S \) is an orthonormal set</li>
        </ul>
    </li>
</ul>
  
Observe that this works because the ith row times jth column of \( A^{\top}*A \) is the dot product \( \vec{v}_i \circ \vec{v}_j \).    

<div class="compute">
<script type="text/x-sage">
# you can edit this!
# Orthogonal Sets
# A = columns are vectors v_i
# A^T * A = Diagonal --> columns are orthogonal
# A^T * A = Id       --> columns are orthonormal

# Example: Checking if a set if orthogonal
# Define vectors
v1 = vector([1,1,-1])
v2 = vector([0,-1,1])
v3 = vector([2,0,1])
show("v1=",v1,", v2=",v2,", v3=",v3)

# create matrix A with columns vi
A = matrix([v1,v2,v3]).transpose() # recall: SAGE will put these into rows, so we need to form the transpose
show("A=",A)
AT = A.transpose()
show("A^T=",AT)

# compute A^T * A
show("A^T * A=",AT*A) # This is not diagonal, so they are NOT orthogonal
</script>
</div>   
    
<div class="compute">
<script type="text/x-sage">
# you can edit this!
# Orthogonal Sets
# A = columns are vectors v_i
# A^T * A = Diagonal --> columns are orthogonal
# A^T * A = Id       --> columns are orthonormal

# Example: Checking if a set if orthogonal but not ortho-normal
# Define vectors
v1 = vector([1,1,-1])
v2 = vector([2,-1,1])
v3 = vector([0,1,1])
show("v1=",v1,", v2=",v2,", v3=",v3)

# create matrix A with columns vi
A = matrix([v1,v2,v3]).transpose() # recall: SAGE will put these into rows, so we need to form the transpose
show("A=",A)
AT = A.transpose()
show("A^T=",AT)

# compute A^T * A
show("A^T * A=",AT*A) # This IS diagonal, so they ARE orthogonal :-) But not ortho-normal :-(
</script>
</div>       

<div class="compute">
<script type="text/x-sage">
# you can edit this!
# Orthogonal Sets
# A = columns are vectors v_i
# A^T * A = Diagonal --> columns are orthogonal
# A^T * A = Id       --> columns are orthonormal

# Example: Checking if a set if ortho-normal
# Define vectors
v1 = vector([1,1,-1])
v1 = (1/norm(v1))*v1 # re-define to make unit length
v2 = vector([2,-1,1])
v2 = (1/norm(v2))*v2 # re-define to make unit length
v3 = vector([0,1,1])
v3 = (1/norm(v3))*v3 # re-define to make unit length
show("v1=",v1,", v2=",v2,", v3=",v3)

# create matrix A with columns vi
A = matrix([v1,v2,v3]).transpose() # recall: SAGE will put these into rows, so we need to form the transpose
show("A=",A)
AT = A.transpose()
show("A^T=",AT)

# compute A^T * A
show("A^T * A=",AT*A) # This IS the identity, so they ARE ortho-normal :-)
</script>
</div>  

</div>
</div><br>
<!-- END Announcement post COLLAPSIBLE-->       
    
    
    
    
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Gram-Schmidt
    </h4>  
</div>
</button>

<div class="content">
<div class="announcementcontent">

SageMath can do Gram-Schmidt with some limitations. 

For reasons I do not quite understand, SAGEMath can't output ortho-normal sets of vectors. So you can either manually do it, type out the code to have each vector divided by it's norm.

To do this, you need to create a matrix with the vectors \( \vec{v}_i\) put into the rows.    
    
<div class="compute">
<script type="text/x-sage">
# GSA: for this to work, we need the vi as the *rows* of A

v1 = vector([1,0,-2,1])
v2 = vector([-1,1,1,-1])
v3 = vector([0,1,-1,1])
v4 = vector([1,0,1,-1])

G, M = matrix([v1,v2,v3,v4]).gram_schmidt()
    # Note: we define two matrices G and M here. That is because SAGEMath will outpout two matrices.
    # The first one, G, is the one we are interested in. The ROWS of G form an orthogonal set
    # The second matrix, M, we will not use it in our class (so we can safely ignore it)
    
show("A=",matrix([v1,v2,v3,v4]).transpose())
show("Gram-Schmidt matrix (row version):",G) 
show("Gram-Schmidt matrix (col version):",G.transpose()) 

# Pull out the rows of G into individual vectors

print("This will give a list of rows of G which are orthogonal set of vectors:")

for i in range(4):
    a = G[i]
    show("a",i+1,"=",a)
    
# Make them all unit length

print("We make them all unit length:")

for i in range(4):
    a = G[i]
    a = a/norm(a)
    show("a",i+1,"=",a)    
</script>
</div> 

</div>
</div><br>
<!-- END Announcement post COLLAPSIBLE-->  
    
    
    
    
    
    
    
    
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Projection Matrices
    </h4>  
</div>
</button>

<div class="content">
<div class="announcementcontent">
    
Here we use Sage to help us build and check the theory of projection transformations and their matrices:

<div class="compute">
<script type="text/x-sage">
# Projection Matrix

v1 = vector([1,0,-2,1])
v2 = vector([1,-3,1,1])
v3 = vector([-1,1,1,3])
v4 = vector([2,1,1,0])

show("v1=",v1,", v2=",v2,", v3=",v3,", v4=",v4)

# normalized vectors

u1 = vector([1,0,-2,1])
u1 = u1/norm(u1)
u2 = vector([1,-3,1,1])
u2 = u2/norm(u2)
u3 = vector([-1,1,1,3])
u3 = u3/norm(u3)
u4 = vector([2,1,1,0])
u4 = u4/norm(u4)

show("u1=",u1,", u2=",u2,", u3=",u3,", u4=",u4)

# U and U^T

U = matrix([u1,u2]).transpose()
UT = U.transpose()

show("U=",U)
show("U^T=",UT)

# projection:

show("[proj_W] = U * U^T =",U*UT) 
</script>
</div>     
    
    
<div class="compute">
<script type="text/x-sage">
# Projection Matrix - check our work!

v1 = vector([1,0,-2,1])
v2 = vector([1,-3,1,1])
v3 = vector([-1,1,1,3])
v4 = vector([2,1,1,0])

show("v1=",v1,", v2=",v2,", v3=",v3,", v4=",v4)

# normalized vectors

u1 = vector([1,0,-2,1])
u1 = u1/norm(u1)
u2 = vector([1,-3,1,1])
u2 = u2/norm(u2)
u3 = vector([-1,1,1,3])
u3 = u3/norm(u3)
u4 = vector([2,1,1,0])
u4 = u4/norm(u4)

show("u1=",u1,", u2=",u2,", u3=",u3,", u4=",u4)

# check with v

v = vector([-5,2,-4,8])
show(v)

# check coefficients c_i

show("v dot u1 = ", v.dot_product(u1))
show("v dot u2 = ", v.dot_product(u2))
show("v dot u3 = ", v.dot_product(u3))
show("v dot u4 = ", v.dot_product(u4))

# check: proj_W(v) = a = (v dot u1) u1 + (v dot u2) u2

a = (v.dot_product(u1)) * u1 + (v.dot_product(u2)) * u2
show(a)
</script>
</div> 

</div>
</div><br>
<!-- END Announcement post COLLAPSIBLE-->      
    
    
    
    
    
    
    
    
    
    
    
    
    

<br><br>    
    
    
<a name="handouts"><h2>References</h2></a>

<h4>CoCalc Website</h4>

<ul>
    <li>
        CoCalc website: (<a href="https://cocalc.com/">here</a>)
    </li>
</ul>    
        
<h4>Lab Manual for Linear Algebra</h4>    
<ul>
    <li>
        By Jim Hefferson. Free and online:
        (<a href="http://joshua.smcvt.edu/linearalgebra/lab.pdf">here</a>)
    </li>
</ul>
    
<h4>First Course in Linear Algebra</h4>    
<ul>
    <li>
        By Robert Beezer. Free and online:
        (<a href="http://linear.ups.edu/">here</a>)
    </li>
</ul>
        
    
<h4>Book: Sage for Undergraduates</h4>

<ul>
    <li>
        By Gregory Bard. Download it at his website: (<a href="http://www.gregorybard.com/Sage.html">here</a>)
    </li>
</ul>    

<h4>Sage Tutorial - Online site</h4>

<ul>
    <li>
        By Mike O'Sullivan. Available at his website: (<a href="https://mosullivan.sdsu.edu/sagetutorial/about.html#getting-started">here</a>)
    </li>
</ul>         
        
</div>
    
    
<script> <!-- for drop-down schedule --> 
var coll = document.getElementsByClassName("collapsible");
var i;

for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.display === "block") {
      content.style.display = "none";
    } else {
      content.style.display = "block";
    }
  });
}
</script>    

<div class="footer"></div>
    
</BODY>
</HTML>










