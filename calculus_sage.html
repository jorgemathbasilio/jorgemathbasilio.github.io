<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">

<HTML>


<HEAD>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="mainpages.css">
<!--<link rel="stylesheet" type="text/css" href="../coursepages.css">-->

<meta name=viewport content="width=device-width, initial-scale=1">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<TITLE>Calculus Computations Using SageMath</TITLE>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async>
</script><!-- added to use Latex in HTML w AJAX...use \(x^2+1=0\)-->  
    
<!-- for sagemath cells -->    
<script src="https://sagecell.sagemath.org/static/jquery.min.js"></script>
<script src="https://sagecell.sagemath.org/embedded_sagecell.js"></script>
<script>$(function () {
    // Make the div with id 'mycell' a Sage cell
    sagecell.makeSagecell({inputLocation:  '#mycell',
        template:       sagecell.templates.minimal,
            evalButtonText: 'Activate'});
    // Make *any* div with class 'compute' a Sage cell
    sagecell.makeSagecell({inputLocation: 'div.compute',
            evalButtonText: 'Evaluate'});
});
</script>    
<link rel="stylesheet" type="text/css" href="https://sagecell.sagemath.org/static/sagecell_embed.css"><!-- to make sure the styling of the sage cells doesn't get screwed up by my own styles -->    
    
</HEAD>


<BODY link=darkblue vlink=darkblue>


    
<div class="header">
<span class="coursetitle">Calculus Computations using SageMath</span>
<span class="schoolsname">
    Calculus
</span>
</div>  


<div class="wholedoc">
       
<img src="math5B-s19/Labs/slope_field.svg" class="center">
   
<br><br>

<h2 style="color: red">WARNING: THIS PAGE IS UNDER CONSTRUCTION AND IS NOT COMPLETE YET!</h2>

<p>As of August 2023. I expect to create it soon. Come back later! Or, email me to get a timeline when I expect to complete it.</p>

<div class="twocol"> <!-- BEGIN TWO COLs -->
    <!-- column 1 -->

<div class="column">
    
    <h2>SageMath References</h2>
    
    <!-- ANNOUNCEMENT COLLAPSIBLE -->    
    <button class="collapsible">
    <div class="announcementtitle">
        <h4>
        Linear Algebra Books with SageMath 
        </h4>  
    </div>
    </button>

    <div class="content-show">
        <div class="announcementcontent">
            <ul>
                <li>
                    <a href="http://linear.ups.edu/">First Course in Linear Algebra</a>, by Robert Beezer. 
                    Free and online Linear Algebra textbook with lots of SageMath code integrated into the text.
                </li>
                <li>
                    <a href="http://joshua.smcvt.edu/linearalgebra/lab.pdf">Lab Manual for Linear Algebra</a> by Jim Hefferson. 
        Free and online Linear Algebra textbook. Has a separate Lab Manual using SageMath.
                </li>
            </ul>   
        </div>
    </div>
    <!-- END Announcement post COLLAPSIBLE--> 
       
 
</div><!-- END COL 1 --> 
    
    
    <!-- column 2 -->

<div class="column">
    
    <h2>Additional SageMath References</h2>
    
    <!-- ANNOUNCEMENT COLLAPSIBLE -->    
    <button class="collapsible">
    <div class="announcementtitle">
        <h4>
        CoCalc website
        </h4>  
    </div>
    </button>

    <div class="content-show">
        <div class="announcementcontent">
            <ul>
                <li>
                    <li>
                        <a href="https://cocalc.com/">CoCalc website</a>. 
                        A great place to run your SageMath code and save your work.
                    </li>
                </li>
            </ul>   
        </div>
    </div>
    <!-- END Announcement post COLLAPSIBLE--> 
    
    <!-- ANNOUNCEMENT COLLAPSIBLE -->    
    <button class="collapsible">
    <div class="announcementtitle">
        <h4>
        Additional SageMath Books and References
        </h4>  
    </div>
    </button>

    <div class="content-show">
        <div class="announcementcontent">
            <ul>
                <li>
                    <a href="http://www.gregorybard.com/Sage.html">Sage for Undergraduates</a> by Gregory Bard. 
                    Download his free book at his website.
                </li>
                <li>
                    <a href="https://mosullivan.sdsu.edu/sagetutorial/about.html#getting-started">Sage Tutorial - Online website</a> By Mike O'Sullivan. 
                </li>
            </ul>   
        </div>
    </div>
    <!-- END Announcement post COLLAPSIBLE--> 
    
</div><!-- END COL 2 --> 

</div><!-- END TWO COLs --> 


        


    
<h1>Your SageMath Computations </h1>
    
Type your own Sage computation below and click “Evaluate”.   
    
<div class="compute" style="margin-bottom:1cm;">
<script type="text/x-sage">
# you can edit this!
2+2
</script>
</div>
    
         
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<!--
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Title
    </h4>  
</div>
</button>

<div class="content">
<div class="announcementcontent">

add

</div>
</div><br>
-->
<!-- END Announcement post COLLAPSIBLE-->   
    
    
    
    
    
<h1>Calculus Computations Templates</h1> 
    
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Limits
    </h4>  
</div>
</button>

<div class="content">
<div class="announcementcontent">
    
A few useful things you can do with vectors:    

<div class="compute">
<script type="text/x-sage">
# you can edit this!
L1 = limit(x^2,x,2)
show(L1)
</script>
</div>
    
</div>
</div><br>
<!-- END Announcement post COLLAPSIBLE-->        
    

    
<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Derivatives
    </h4>  
</div>
</button>

<div class="content">
<div class="announcementcontent">
    
Basic derivatives

<div class="compute">
<script type="text/x-sage">
# you can edit this!

# coming soon...
</script>
</div>  

</div>
</div><br>
<!-- END Announcement post COLLAPSIBLE--> 
 
    
    
    
    

    
    


<!-- ANNOUNCEMENT COLLAPSIBLE -->    
<button class="collapsible">
<div class="announcementtitle">
    <h4>
    Integration
    </h4>  
</div>
</button>

<div class="content-show">
<div class="announcementcontent">
    
<h2>Numerical Integration</h2>

The definition of the <b>definite integral</b> is:
$$
\int_a^b f(x)\, dx = \lim_{n \to \infty} \sum_{i=1}^n f(c_i)\, \Delta x_i,
$$
where we may select \(c_i \in [x_{i-1},x_i]\) in any way that we wish.

<h3>Left-endpoint Approximation</h3>

We pick \(c_i = x_{i-1}\).

We also set \(\Delta x_i = \frac{b-a}{b}\), that is, cut \([a,b]\) into $n$ equal pieces.

If \(S_n\) is the $n$th Riemann sum, then \(\displaystyle \int_a^b f(x)\, dx \approx S_n\). The formula is:
$$
S_n = \sum_{i=1}^n f(c_i) \Delta x_i
$$

Next, we have Sage do all the hard work:

<div class="compute">
<script type="text/x-sage">
# you can edit this!

#LEA
f(x) = 1+x*sin(x^4) # change me!
a = -2      # change me!
b = 2      # change me!
exactint = integral(f,x,a,b)

def left_endpoint_approx( nn ): # tell it n as nn since n is predefined in sage
    deltax = (b-a)/nn
    lea = deltax*sum([f(a+i*deltax) for i in range(nn)])


    P1 = plot(f, a,b)

    bars = sum([polygon([(a+deltax*u,0),(a+deltax*(u+1),0),(a+deltax*(u+1),f(a+deltax*u)),(a+deltax*u,f(a+deltax*u))],
                        color="red",alpha=0.3,thickness=1, fill=False) for u in range(nn)])

    label = text(r"Left Endpoint Approximation of $\int_a^b f(x) dx$", (b+3,1), color='black', fontsize=12)

    P = P1 + bars + label
    P.show()

    print("the left endpoint approximation is", lea.n() )
    print("the exact answer is", exactint.n() )
    print("the error is", exactint.n()-lea.n() )

    return

# input the n to compute S_n
left_endpoint_approx(25)
</script>
</div>  




<h3>Right-endpoint Approximation</h3>

We pick \(c_i = x_{i}\) which is the right end point of each subinterval \([x_{i-1},x_i]\).

<div class="compute">
<script type="text/x-sage">
# you can edit this!

#REA
f(x) = 1+x*sin(x^4) # change me!
a = -2      # change me!
b = 2      # change me!
exactint = integral(f,x,a,b)

def right_endpoint_approx( nn ): # tell it n as nn since n is predefined in sage
    deltax = (b-a)/nn
    rea = deltax*sum([f(a+(i+1)*deltax) for i in range(nn)])

    P1 = plot(f, a-0.2,b+0.2)

    bars = sum([polygon([(a+deltax*u,0),(a+deltax*(u+1),0),(a+deltax*(u+1),f(a+deltax*(u+1))),(a+deltax*u,f(a+deltax*(u+1)))],color="red",alpha=0.3,thickness=1, fill=False) for u in range(nn)])

    P = P1 + bars
    P.show()

    print("the right endpoint approximation is", rea.n() )
    print("the exact answer is", exactint.n() )
    print("the error is", exactint.n()-rea.n() )

    return
# input the n to compute S_n using REA

right_endpoint_approx(10)
</script>
</div>  



<h3>Midpoint Approximation</h3>

We pick \(c_i = \frac{x_{i-1}+x_{i}}{2}\) which is the right end point of each subinterval \([x_{i-1},x_i]\).

<div class="compute">
<script type="text/x-sage">
# you can edit this!

# MPA
f(x) = 1+x*sin(x^4) # change me!
a = -2      # change me!
b = 2      # change me!
exactint = integral(f,x,a,b)

def midpoint_approx( nn ): # tell it n as nn since n is predefined in sage
    deltax = (b-a)/nn
    mpa = deltax*sum([(f(a+i*deltax+(deltax/2))) for i in range(nn)])

    P1 = plot(f, a-0.2,b+0.2)

    bars = sum([polygon([(a+deltax*u,0),(a+deltax*(u+1),0),(a+deltax*(u+1),f(a+deltax*u+deltax/2)),(a+deltax*u,f(a+deltax*u+deltax/2))],color="red",alpha=0.3,thickness=1, fill=False) for u in range(nn)])

    P = P1 + bars
    P.show()

    print("the midpoint approximation is", mpa.n() ) 
    print("the exact answer is", exactint.n() )
    print("the error is", exactint.n()-mpa.n() )

    return
# input the n to compute S_n using MPA
midpoint_approx(10)
</script>
</div>  





<h3>Trapezoid Rule Approximation</h3>

This time the formula is different. We want the trapezoid above the subinteral \([x_{i-1},x_i]\) with heights \(f(x_{i-1})\) and \(f(x_i)\).

Each trapezoid has area
$$
    \Delta x \cdot \left(\frac{f(x_{i-1})+f(x_i)}{2}\right),
$$
which we must sum.

<div class="compute">
<script type="text/x-sage">
# you can edit this!

# trapezoidA
f(x) = 1+x*sin(x^4) # change me!
a = -2      # change me!
b = 2      # change me!
exactint = integral(f,x,a,b)

def trapezoid_approx( nn ): # tell it n as nn since n is predefined in sage
    deltax = (b-a)/nn
    trapa = (deltax/2)*sum([(f(a+i*deltax)+f(a+(i+1)*deltax)) for i in range(nn)])


    P1 = plot(f, a-0.2,b+0.2)

    bars = sum([polygon([(a+deltax*u,0),(a+deltax*(u+1),0),(a+deltax*(u+1),f(a+deltax*(u+1))),(a+deltax*u,f(a+deltax*u))],color="red",alpha=0.3,thickness=1, fill=False) for u in range(nn)])

    P = P1 + bars
    P.show()

    print("the trapezoid approximation is", trapa.n())
    print("the exact answer is", exactint.n() )
    print("the error is", exactint.n()-trapa.n() )

    return
# input the n to compute S_n using REA
trapezoid_approx(10)
</script>
</div>  










<h3>Simpson's Rule Approximation</h3>

This one is very interesting since it uses parabolas instead of lines to approximate.

Fact: Given three points \(P_0\), \(P_1\), and \(P_2\), there's only one and only one parabola that passes through \(P_0\), \(P_1\), and \(P_2\).

Simpson's Rule is based on this fact and uses an EVEN number of subintervals. It uses pairs of consecutive subintervals \([x_{i-1},x_i]\) and \([x_i,x_{i+1}]\) with the three points \((x_{i-1},f(x_{i-1}))\), \((x_{i},f(x_{i}))\), and \((x_{i+1},f(x_{i+1}))\) to generate parabolas that best fit the curve over these two subintervals.

See the textbook for the details of the derivation.


<div class="compute">
<script type="text/x-sage">
# you can edit this!

# Simpson's Rule
f(x) = 1+x*sin(x^4) # change me!
a = -2      # change me!
b = 2      # change me!
exactint = integral(f,x,a,b)

def simpson_approx( nn ): # tell it n as nn since n is predefined in sage
    deltax = (b-a)/nn
    n2 = int(nn/2)
    simpa = (deltax/3)*sum([(f(a+(2*i)*deltax)+4*f(a+(2*i+1)*deltax)+f(a+(2*i+2)*deltax)) for i in range(n2)])

    P1 = plot(f, a-0.2,b+0.2)

    #bars = sum([polygon([(a+deltax*u,0),(a+deltax*(u+1),0),(a+deltax*(u+1),f(a+deltax*(u+1))),(a+deltax*u,f(a+deltax*u))],color="red",alpha=0.3,thickness=1, fill=False) for u in range(nn)]) # sorry couldn't figure out the graph of the parabolas in time!

    P = P1 #+ bars
    P.show()

    print("the Simpson's Rule approximation is", simpa.n() )
    print("the exact answer is", exactint.n() )
    print("the error is", exactint.n()-simpa.n() ) 

    return
# input the n to compute S_n using Simpson's Rule. Enter an EVEN number
simpson_approx(6)
</script>
</div>  


<h3>Try it!</h3>

A few more examples.

<div class="compute">
<script type="text/x-sage">
# you can edit this!

# MPA
f(x) = (1/2)*e^(-x^2) # change me!
a = -2      # change me!
b = 2      # change me!
exactint = integral(f,x,a,b) #

def midpoint_approx( nn ): # tell it n as nn since n is predefined in sage
    deltax = (b-a)/nn
    mpa = deltax*sum([(f(a+i*deltax+(deltax/2))) for i in range(nn)])

    P1 = plot(f, a-0.2,b+0.2)

    bars = sum([polygon([(a+deltax*u,0),(a+deltax*(u+1),0),(a+deltax*(u+1),f(a+deltax*u+deltax/2)),(a+deltax*u,f(a+deltax*u+deltax/2))],color="red",alpha=0.3,thickness=1, fill=False) for u in range(nn)])

    P = P1 + bars
    P.show()

    print("the midpoint approximation is", mpa.n() )
    print("the exact answer is", exactint.n() )
    print("the error is", exactint.n()-mpa.n() )

    return
# input the n to compute S_n using MPA
midpoint_approx(15)
</script>
</div>  

<h3>Exploration</h3>

For the following inquiries, look for non-constant, non-linear functions with the desired qualities.

<h4>Inquiry 1</h4>

Find a function where the LEA is better than the REA--that is, has smaller error. Then find a function where the REA is better than the LEA.


<h4>Inquiry 2</h4>

Find a function where the MPA is better than either the LEA or the REA.


<h4>Inquiry 3</h4>

Find a function where Simpson's Rule is better than the MPA.

<h4>Inquiry 4</h4>

By taking $[a,b]$ larger and larger, see if you can anticipate what $\int_{-\infty}^{\infty} e^{-x^2}\, dx$ is. Note: for an exact answer you need Multivarialbe calculus ;-)

<h4>Extra-Credit</h4>

Write working Sage code that will generate the graphics for the parabolas for Simpson's Rule.

</div>
</div><br>
<!-- END Announcement post COLLAPSIBLE-->   
    
    
    
    
    

    

    
    
    
    
    
    
    

    

  
    
    
</div> <!-- div whole block-->
    
    
<script> <!-- for drop-down schedule --> 
var coll = document.getElementsByClassName("collapsible");
var i;

for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.display === "block") {
      content.style.display = "none";
    } else {
      content.style.display = "block";
    }
  });
}
</script>    

<div class="footer"></div>
    
</BODY>
</HTML>










